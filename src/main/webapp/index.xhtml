<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"	
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf">
	<ui:composition template="/layout.xhtml">
		<ui:define name="title">#{bundle.dashboard}</ui:define>
		<ui:define name="subtitle">#{bundle.controlPanel}</ui:define>
		<ui:define name="content">
			

                <!-- Main content -->
                <section class="content">
                
                
                <!-- Small boxes (Stat box) -->
                    <div class="row">
                        <div class="col-lg-3 col-xs-6">
                            <!-- small box -->
                            <div class="small-box bg-yellow">
                                <div class="inner">
                                    <h3>
                                        #{dashboardController.quantidadeInstalacoes}
                                    </h3>
                                    <p>
                                        Instalações do Mês
                                    </p>
                                </div>
                                <div class="icon">
                                    <i class="ion ion-person-add"></i>
                                </div>
                            </div>
                        </div><!-- ./col -->
                        
                        <div class="col-lg-3 col-xs-6">
                            <!-- small box -->
                            <div class="small-box bg-red">
                                <div class="inner">
                                    <h3>
                                        #{dashboardController.listMensalidadesAtrasadas.size()}
                                    </h3>
                                    <p>
                                        Mensalidades em atraso
                                    </p>
                                </div>
                                <div class="icon">
                                    <i class="ion ion-pie-graph"></i>
                                </div>
                            </div>
                        </div><!-- ./col -->
                        <div class="col-lg-3 col-xs-6">
                            <!-- small box -->
                            <div class="small-box bg-purple">
                                <div class="inner">
                                    <h3>
                                        #{dashboardController.listClientesInativos.size()}
                                    </h3>
                                    <p>
                                        Clientes Inativos
                                    </p>
                                </div>
                                <div class="icon">
                                    <i class="ion ion-person-stalker"></i>
                                </div>
                            </div>
                        </div><!-- ./col -->
                    </div><!-- /.row -->
                
               	
				<div id="dashboard_tabs" class="col-xs-12 col-sm-10">
					
						<div id="ow-marketplace" class="col-sm-12 col-md-6">
							
							<h4 class="page-header">MENSALIDADES EM ATRASO</h4>
							<h:dataTable styleClass="table m-table table-bordered table-hover table-heading"
							 value="#{dashboardController.listMensalidadesAtrasadas}" var="m">
								<h:column>
									<f:facet name="header">#{bundle.cliente}</f:facet>
									<a href="#{request.contextPath}/pages/cadastros/cliente/edit.xhtml?id=#{m.cliente.id}">#{m.cliente.nome}</a>
								</h:column>
								<h:column>
									<f:facet name="header">#{bundle.valor}</f:facet>
									#{m.valor}
								</h:column>
								<h:column>
									<f:facet name="header">#{bundle.vencimento}</f:facet>
									#{m.dataVencimento}
								</h:column>
							</h:dataTable>
							
						</div>
						<div id="ultimasInstalacoes" class="col-sm-12 col-md-6">
							
							<h4 class="page-header">ULTIMAS INSTALAÇÕES</h4>
							<h:dataTable styleClass="table m-table table-bordered table-hover table-heading"
							 value="#{dashboardController.listClientesInstalados}" var="c">
								<h:column>
									<f:facet name="header">#{bundle.nome}</f:facet>
									<a href="#{request.contextPath}/pages/cadastros/cliente/edit.xhtml?id=#{c.id}">#{c.nome}</a>
								</h:column>
								<h:column>
									<f:facet name="header">#{bundle.dataInstalacao}</f:facet>
									#{c.contrato.dataInstalacao}
								</h:column>
							</h:dataTable>
							
						</div>

						<div id="clientesinativos" class="col-sm-12 col-md-6">
							
							<h4 class="page-header">CLIENTES INATIVOS</h4>
							<h:dataTable styleClass="table m-table table-bordered table-hover table-heading"
							 value="#{dashboardController.listClientesInativos}" var="c">
								<h:column>
									<f:facet name="header">#{bundle.nome}</f:facet>
									<a href="#{request.contextPath}/pages/cadastros/cliente/edit.xhtml?id=#{c.id}">#{c.nome}</a>
								</h:column>
							</h:dataTable>
							
						</div>						 	
					</div>
					<!--End Dashboard Tab 1-->
			 </section><!-- /.content -->
		</ui:define>
	</ui:composition>
</html>
