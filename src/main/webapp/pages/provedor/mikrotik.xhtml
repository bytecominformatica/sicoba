<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf">
<ui:composition template="/layout.xhtml">
	<ui:define name="title">#{bundle.mikrotik}</ui:define>
	<ui:define name="subtitle">#{empty mikrotikController.mikrotik ? bundle.listagem : mikrotikController.mikrotik.id > 0 ? bundle.edit : bundle.new}</ui:define>
	<ui:define name="content">
			<div class="panel-body" jsf:rendered="#{mikrotikController.mikrotik != null}">
				<form jsf:id="form1" class="form-horizontal">
					<label jsf:for="nome" class="control-label" >#{bundle.nome}</label>
					<input jsf:id="nome" type="text" class="form-control" jsf:value="#{mikrotikController.mikrotik.nome}" autofocus="autofocus" required="required"/>
	
					<label jsf:for="host" class="control-label" >#{bundle.host}</label>
					<input jsf:id="host" type="text" class="form-control" jsf:value="#{mikrotikController.mikrotik.host}" required="required"/>
	
					<label jsf:for="porta" class="control-label" >#{bundle.porta}</label>
					<input jsf:id="porta" type="number" class="form-control" jsf:value="#{mikrotikController.mikrotik.porta}" required="required"/>
	
					<label jsf:for="usuario" class="control-label" >#{bundle.usuario}</label>
					<input jsf:id="usuario" type="text" class="form-control" jsf:value="#{mikrotikController.mikrotik.usuario}" required="required"/>
	
					<label class="control-label" >#{bundle.senha}</label>
					<input jsf:rendered="#{!(mikrotikController.mikrotik.id > 0)}" jsf:id="senha1" type="password" class="form-control" jsf:value="#{mikrotikController.mikrotik.senha}" required="required"/>
					<input jsf:rendered="#{mikrotikController.mikrotik.id > 0}" jsf:id="senha2" type="password" class="form-control" jsf:value="#{mikrotikController.senha}" placeholder="Deixe em branco para manter a mesma senha"/>
	
					<label jsf:for="descricao" class="control-label" >#{bundle.descricao}</label>
					<textarea rows="3" jsf:id="descricao" class="form-control" jsf:value="#{mikrotikController.mikrotik.descricao}"/>
	
					<div class="modal-footer">
						<button jsf:id="btAtualizar" jsf:action="#{mikrotikController.salvar()}" class="btn btn-primary">
							<span class="glyphicon glyphicon-floppy-save" /> #{mikrotikController.mikrotik.id == 0 ? bundle.save : bundle.update}
						</button>
						<button type="button" data-toggle="modal" data-target="#removerModal" class="btn btn-danger" 
							jsf:rendered="#{mikrotikController.mikrotik.id > 0}" >
							<span class="glyphicon glyphicon-trash" /> #{bundle.remove}
						</button>
						<button jsf:id="btCancelar" type="submit" class="btn btn-primary" jsf:actionListener="#{mikrotikController.limpar()}" formnovalidate="formnovalidate">
							<span class="glyphicon glyphicon-circle-arrow-left" /> #{bundle.cancel}
						</button>
					</div>
				</form>
			</div>
			
		<div class="panel-body">
			<form jsf:id="form2">
				<div class="table-responsive">
					<h:dataTable value="#{mikrotikController.listMikrotik}"
						var="mikrotik" styleClass="table table-hover"
						headerClass="tableColumnsHeader">
						<f:facet name="header">
							<div align="center">
								<button jsf:id="btnNew" type="submit" class="btn btn-primary"
									jsf:actionListener="#{mikrotikController.novo()}">
									<span class="glyphicon glyphicon-plus" /> #{bundle.new}
								</button>
							</div>
						</f:facet>

						<h:column>
							<f:facet name="header">#{bundle.nome}</f:facet>
							#{mikrotik.nome}
						</h:column>

						<h:column>
							<f:facet name="header">#{bundle.host}</f:facet>
							#{mikrotik.host}
						</h:column>

						<h:column>
							<f:facet name="header">#{bundle.porta}</f:facet>
							#{mikrotik.porta}
						</h:column>

						<h:column>
							<f:facet name="header">#{bundle.usuario}</f:facet>
							#{mikrotik.usuario}
						</h:column>

						<h:column>
							<f:facet name="header">#{bundle.senha}</f:facet>
							<h6 title="#{mikrotik.senha}">Senha Aqui</h6>
						</h:column>

						<h:column>
							<f:facet name="header">#{bundle.edit}</f:facet> 
							<button jsf:id="btnEdit" class="btn btn-primary" jsf:actionListener="#{mikrotikController.setMikrotik(mikrotik)}">
								<span class="glyphicon glyphicon-edit" />
							</button>
						</h:column>
					</h:dataTable>
				</div>
			</form>
		</div>
		
		<div class="modal fade" id="removerModal">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
	        	<button type="button" class="close" data-dismiss="modal" aria-label="Close">
		        	<span class="glyphicon glyphicon-remove" />
        		</button>
		        <h4 class="modal-title">Deseja remover?</h4>
		      </div>
		      <div class="modal-body">
		        <p>#{mikrotikController.mikrotik.nome}</p>
		      </div>
		      <div class="modal-footer">
		      	<form jsf:id="formRemover">
			        <button jsf:actionListener="#{mikrotikController.remover()}" type="submit" class="btn btn-danger" style="align:left">
						<span class="glyphicon glyphicon-trash" /> #{bundle.remove}
					</button>
			        <button type="button" class="btn btn-default" data-dismiss="modal">
			        	<span class="glyphicon glyphicon-remove" />#{bundle.fechar}
		        	</button>
		      	</form>
		      </div>
		    </div><!-- /.modal-content -->
		  </div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
	</ui:define>
</ui:composition>
</html>