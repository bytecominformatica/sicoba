<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">


<ui:composition template="/layout.xhtml">
	<ui:define name="content">

		<div id="map-canvas" style="height: 500px; width: 700px"></div>

		<script type="text/javascript"
			src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCQeWWcwyiqM226lNXNGrxp6u7hUoAWixI">
    	</script>
    	
		<script type="text/javascript">
	      function initialize() {

	    	  var myLatlng = new google.maps.LatLng(-3.758027, -38.652305);
	    	  var mapOptions = {
	    	    zoom: 15,
	    	    center: myLatlng
	    	  }
	    	  var map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

	    	  // To add the marker to the map, use the 'map' property
	    	  var marker = new google.maps.Marker({
	    	      position: myLatlng,
	    	      map: map,
	    	      title:"Bytecom"
	    	  });

	    	  $.getJSON( "http://localhost:8080/sicoba/rest/maps/clientesGeo", function( data ) {
	    		  var items = [];
	    		  $.each( data, function( key, val ) {
	    			  new google.maps.Marker({
	    	    	      position: new google.maps.LatLng(val.latitude, val.longitude),
	    	    	      map: map,
	    	    	      title:val.cliente.nome
	    	    	  });
	    		  });
    		  });

	      }
	      google.maps.event.addDomListener(window, 'load', initialize);
	      
	    </script>
	</ui:define>
</ui:composition>
</html>