<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf">
<ui:composition template="/layout.xhtml">
	<ui:define name="title">#{bundle.conexao}</ui:define>
	<ui:define name="subtitle">#{conexaoController.cliente.conexao.id > 0 ? bundle.edit : bundle.new}</ui:define>
	<ui:define name="content">
		<div class="panel-body" jsf:rendered="#{conexaoController.cliente.conexao != null}">
			<form jsf:id="form1" class="form-horizontal">
				<label jsf:for="cliente" class="control-label" >#{bundle.cliente}</label>
				<input jsf:id="cliente" type="text" class="form-control" jsf:value="#{conexaoController.cliente.nome}" disabled="disabled"/>

				<label class="control-label" >#{bundle.plano}</label>
				<input type="text" class="form-control" jsf:value="#{conexaoController.cliente.contrato.plano.nome}" disabled="disabled"/>

				<label jsf:for="mikrotik" class="control-label">#{bundle.mikrotik}</label>
				<h:selectOneMenu id="mikrotik" value="#{conexaoController.cliente.conexao.mikrotik}" converter="entityConverter"
					styleClass="form-control" required="true" requiredMessage="Selecione um mikrotik">
					<f:selectItem itemLabel="#{bundle.select}" noSelectionOption="true" />
					<f:selectItems value="#{conexaoController.listMikrotik}" var="mk" itemLabel="#{mk.nome} - #{mk.host}"/>
				</h:selectOneMenu>

				<label jsf:for="nome" class="control-label" >#{bundle.nome}</label>
				<input jsf:rendered="#{!(conexaoController.cliente.conexao.id > 0)}" jsf:id="nome" type="text" class="form-control" jsf:value="#{conexaoController.cliente.conexao.nome}" autofocus="autofocus" required="required"/>
				<input jsf:rendered="#{conexaoController.cliente.conexao.id > 0}" type="text" class="form-control" jsf:value="#{conexaoController.cliente.conexao.nome}" disabled="disabled"/>


				<label jsf:for="senha" class="control-label" >#{bundle.senha}</label>
				<input jsf:id="senha" type="text" class="form-control" jsf:value="#{conexaoController.cliente.conexao.senha}" required="required"/>

				<div class="modal-footer">
					<button jsf:id="btAtualizar" jsf:action="#{conexaoController.salvar()}" class="btn btn-primary">
						<span class="glyphicon glyphicon-floppy-save" /> #{conexaoController.cliente.conexao.id == 0 ? bundle.save : bundle.update}
					</button>
					
					<button type="button" data-toggle="modal" data-target="#removerModal" class="btn btn-danger" 
						jsf:rendered="#{conexaoController.cliente.conexao.id > 0}" >
						<span class="glyphicon glyphicon-trash" /> #{bundle.remove}
					</button>
					
					<button jsf:id="btVoltar" jsf:outcome="cliente" class="btn btn-primary">
						<span class="glyphicon glyphicon-circle-arrow-left" /> #{bundle.back}
						<f:param value="#{conexaoController.cliente.id}" name="id"></f:param>
					</button>
				</div>
			</form>
		</div>
		
		<div class="modal fade" id="removerModal">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
	        	<button type="button" class="close" data-dismiss="modal" aria-label="Close">
		        	<span class="glyphicon glyphicon-remove" />
        		</button>
		        <h4 class="modal-title">Deseja remover?</h4>
		      </div>
		      <div class="modal-body">
		        <p>#{conexaoController.cliente.conexao.nome}</p>
		      </div>
		      <div class="modal-footer">
		      	<form jsf:id="formRemover">
			        <button jsf:actionListener="#{conexaoController.remover()}" type="submit" class="btn btn-danger" style="align:left">
						<span class="glyphicon glyphicon-trash" /> #{bundle.remove}
					</button>
			        <button type="button" class="btn btn-default" data-dismiss="modal">
			        	<span class="glyphicon glyphicon-remove" />#{bundle.fechar}
		        	</button>
		      	</form>
		      </div>
		    </div><!-- /.modal-content -->
		  </div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
		
	</ui:define>
</ui:composition>
</html>